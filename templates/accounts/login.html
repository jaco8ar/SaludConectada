{% extends "base.html" %}

{% block content %}
  <h2>Iniciar sesión</h2>

  {# Errores generales del formulario (por ejemplo, credenciales incorrectas) #}
  {% if form.non_field_errors %}
    <div style="color: red; margin-bottom: 1em;">
      <ul>
        {% for error in form.non_field_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <form method="post">
    {% csrf_token %}

    {% for field in form %}
      <p>
        {{ field.label_tag }}

        {# Errores específicos de este campo (ej: "Este campo es obligatorio") #}
        {% if field.errors %}
          <br>
          <span style="color: red;">
            {% for error in field.errors %}
              {{ error }}<br>
            {% endfor %}
          </span>
        {% endif %}

        <br>
        {{ field }}

        {% if field.help_text %}
          <br>
          <small style="color: #666;">{{ field.help_text|safe }}</small>
        {% endif %}
      </p>
    {% endfor %}

    <button type="submit">Entrar</button>
  </form>
{% endblock %}
